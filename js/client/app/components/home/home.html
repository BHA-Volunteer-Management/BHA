<main class="home">
<div class="container">
  <div class="jumbotron">
    <h2>Home</h2>
    <h4>Welcome to the Volunteer Interpreter Online Portal!</h4>
    <div class="container">
      <div class="row">
        <a ui-sref="volunteerSearch" ng-show="vm.user.isAdmin()">Search for volunteers</a>
      </div>
      <div class="row">
        <a ui-sref="assignments">Search for assignments</a>
      </div>
      <div class="row">
        <a href="#" ng-click="vm.user.viewProfile()">View your profile</a>
      </div>

    </div>
  </div>
  <h2>Upcoming Assignments</h2>
  <span ng-show="vm.assignments.length === 0">There are no assignments to show.</span>
  <table class=" table table-striped table-hover" ng-show="vm.assignments.length > 0">
    <thead>
      <tr>
        <th>Date</th>
        <th>Time</th>
        <th>Assignment Name</th>
        <th>Language</th>
        <th>Has assigned?</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="assignment in vm.assignments | orderBy:'date'">
        <td ng-bind="assignment.start_date | date:'shortDate'"></td>
        <td ng-bind="assignment.start_date | date:'shortTime'"></td>
        <td ng-bind="assignment.name"></td>
        <td ng-bind="assignment.language_name | languageKeyToName"></td>
        <td>
          <span ng-if="!assignment.volunteers.length">
            None assigned.
            <span class="assignment__warning" ng-click="vm.openNotificationsModal(assignment.language)">
              Find volunteer
            </span>
          </span>
          <span ng-if="assignment.volunteers.length">
            <span ng-repeat="v in assignment.volunteers">
              {{ v.first_name }} {{ v.last_name }}
            </span>
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
</main>
